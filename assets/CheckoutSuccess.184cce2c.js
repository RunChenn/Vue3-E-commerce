import{v as _,X as f,V as x,D as g,r as m,o as d,b as n,d as v,e as b,w as s,B as y,O as e,G as w,H as k,J as B,K as D,C as S}from"./vendor.1eeb228f.js";import{a as j}from"./index.06ff196c.js";import{C,F as L}from"./Form.64db5a3e.js";import{R as N}from"./RelatedProds.3dad6fab.js";import{_ as T}from"./index.fa9b4643.js";const P={components:{Carts:C,Form:L,RelatedProds:N},name:"CheckoutSuccess",setup(){const c=_(!1),i=f(),p=_({}),t=x({loadingItem:""}),u=_({}),h=_({});g(async()=>{c.value=!0;const r=i.params.id;l(r)});const l=async r=>{try{const o=await j.order.getOrder(r);p.value=o.order,u.value=Object.values(o.order.products)[0].coupon,h.value=o.order.user,c.value=!1}catch(o){alert(o.message),c.value=!1}};return{isLoading:c,order:p,loadingStatus:t,getOrder:l,userData:h,couponData:u}}},a=c=>(B("data-v-61952069"),c=c(),D(),c),F={class:"container pt-4"},V=a(()=>s("div",{style:{"min-height":"400px","background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/aprilchen/1648265449862.jpeg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=LQZxp16W7KgXS3iq7y3CrN7buiB3WDc4zwXnTfcYPJL0snx2Vo5iY%2FrPna%2BZ%2Bd8B3EAk33lx0PcYNlX2tgtV1Qta8C1QYCMM1rmitHB4a7mmAHc9GDFJwYJ2KCGG1f6c2z8lBVoWptSKbuQPgrgIYPcahxI5Uzec0Po1nRPxEbkX%2FacpXv4UyodhVi%2BBvDx6Tf1wdHWaUEfbzsMOLwvkKPWyLdXiQanw14fii9SgYAyvz88kgfTZL8MJTB5qe3HQATBZBqsQ3iUSjwn87qhW%2BofclZddBvbsF4p%2FZvZTvbAkxnpfk8S6uuzmSyr0BhEc%2BYyNhjsBMjrbCcsugqE6mQ%3D%3D)","background-position":"center center"}},null,-1)),z={class:"mt-5 mb-5"},I={class:"row"},Q={class:"col-md-12 mb-5"},Y={class:"card rounded-0 py-3"},E={class:"card-header border-bottom-0 bg-white px-4 py-0"},X=a(()=>s("h2",null,"\u8A02\u55AE\u6210\u7ACB",-1)),Z=a(()=>s("p",null,"\u611F\u8B1D\u60A8\u7684\u8CFC\u8CB7\uFF0C\u6536\u5230\u8A02\u55AE\u5F8C\uFF0C\u9810\u8A083~5\u5929\u51FA\u8CA8\uFF0C\u8ACB\u60A8\u8010\u5FC3\u7B49\u5019\u3002",-1)),q=S("\u56DE\u9996\u9801"),A=a(()=>s("div",{class:"card-body px-4 py-0"},null,-1)),H={class:"col-md-6"},M={class:"card rounded-0 py-3"},U=a(()=>s("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[s("h2",null,"\u9867\u5BA2\u8CC7\u8A0A")],-1)),W={class:"card-body px-4 py-0"},G={class:"list-group list-group-flush"},J={class:"list-group-item px-0"},K={class:"d-flex mt-2"},O={class:"w-100 d-flex flex-column text-start"},R={class:"py-1"},$={class:"py-1"},ss={class:"py-1"},ts={class:"pt-1"},os={class:"col-md-6"},es={class:"card rounded-0 py-4"},cs=a(()=>s("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[s("h2",null,"\u8A02\u55AE\u8CC7\u8A0A")],-1)),as={class:"card-body px-4 py-0"},ds={class:"list-group list-group-flush"},ns={class:"list-group-item px-0"},rs=["src"],is={class:"w-100 d-flex flex-column"},ls={class:"d-flex justify-content-between fw-bold"},_s={class:"mb-0"},ps={class:"d-flex justify-content-between mt-auto"},us={class:"text-muted mb-0"},hs={class:"mb-0"},ms={class:"list-group-item px-0 pb-0"},vs={class:"table text-muted"},bs=a(()=>s("th",{scope:"row",class:"border-0 px-0 font-weight-normal"},"\u5C0F\u8A08",-1)),fs={key:0,class:"text-end border-0 px-0"},xs={key:1,class:"text-end border-0 px-0"},gs={key:0},ys=a(()=>s("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"\u512A\u60E0\u5238",-1)),ws={class:"text-end border-0 px-0 pt-0"},ks={class:"d-flex justify-content-between mt-2"},Bs=a(()=>s("p",{class:"mb-0 h4 fw-bold"},"\u7E3D\u91D1\u984D",-1)),Ds={class:"mb-0 h4 fw-bold"};function Ss(c,i,p,t,u,h){const l=m("Loading"),r=m("router-link");return d(),n("div",F,[v(" Loading "),b(l,{active:t.isLoading,"onUpdate:active":i[0]||(i[0]=o=>t.isLoading=o),"is-full-page":!0},null,8,["active"]),V,s("div",z,[s("div",I,[s("div",Q,[s("div",Y,[s("div",E,[X,Z,b(r,{to:{name:"Home"},class:"btn btn-outline-dark me-2 rounded-0 mb-4"},{default:y(()=>[q]),_:1})]),A])]),s("div",H,[s("div",M,[U,s("div",W,[s("ul",G,[s("li",J,[s("div",K,[s("div",O,[s("h5",R,"\u9867\u5BA2\u59D3\u540D\uFF1A"+e(t.userData.name),1),s("h5",$,"\u96FB\u5B50\u90F5\u4EF6"+e(t.userData.email),1),s("h5",ss,"\u9867\u5BA2\u96FB\u8A71\uFF1A"+e(t.userData.tel),1),s("h5",ts,"\u5730\u5740\uFF1A"+e(t.userData.address),1)])])])])])])]),s("div",os,[s("div",es,[cs,s("div",as,[s("ul",ds,[s("li",ns,[(d(!0),n(w,null,k(t.order.products,o=>(d(),n("div",{class:"d-flex mt-2",key:o.title},[s("img",{src:o.product.imageUrl,alt:"",class:"me-2",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,rs),s("div",is,[s("div",ls,[s("h5",null,e(o.product.title),1),s("p",_s,"x"+e(o.qty),1)]),s("div",ps,[s("p",us,[s("small",null,"NT$"+e(o.product.price),1)]),s("p",hs,"NT$"+e(o.total),1)])])]))),128))]),s("li",ms,[s("table",vs,[s("tbody",null,[s("tr",null,[bs,t.couponData?(d(),n("td",fs,"NT$"+e(t.order.total/t.couponData.percent*100),1)):(d(),n("td",xs,"NT$"+e(t.order.total),1))]),t.couponData?(d(),n("tr",gs,[ys,s("td",ws,e(t.couponData.code),1)])):v("v-if",!0)])]),s("div",ks,[Bs,s("p",Ds,"NT$"+e(t.order.total),1)])])])])])])])])])}var Ps=T(P,[["render",Ss],["__scopeId","data-v-61952069"]]);export{Ps as default};
