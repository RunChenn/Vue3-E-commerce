import{C as g,r as p,Z as y,X as w,o as k,g as v,b as n,d as r,O as f,h as x,f as t,J as C,t as o,F as D,e as j,R as S,T as N,K as L}from"./vendor.72820acd.js";import{a as T}from"./index.40a71972.js";import{C as I,F}from"./Form.8007c743.js";import{R}from"./RelatedProds.1977b4f4.js";import{_ as O}from"./index.fa8506b3.js";const V={components:{Carts:I,Form:F,RelatedProds:R},name:"CheckoutSuccess",setup(){var e;const d=(e=g())==null?void 0:e.appContext.config.globalProperties.$httpMsgState,a=p(!1),m=y(),s=p({}),b=w({loadingItem:""}),h=p({}),i=p({});k(async()=>{a.value=!0;const u=m.params.id;_(u)});const _=async u=>{try{const l=await T.order.getOrder(u);s.value=l.order,h.value=Object.values(l.order.products)[0].coupon,i.value=l.order.user,a.value=!1}catch(l){a.value=!1,d(l,"\u932F\u8AA4\u8A0A\u606F")}};return{isLoading:a,order:s,loadingStatus:b,getOrder:_,userData:i,couponData:h}}},c=d=>(S("data-v-61952069"),d=d(),N(),d),B={class:"container pt-4"},M=c(()=>t("div",{class:"checkout-success-bg"},null,-1)),P={class:"mt-5 mb-5"},U={class:"row"},q={class:"col-md-12 mb-5"},E={class:"card rounded-0 py-3"},H={class:"card-header border-bottom-0 bg-white px-4 py-0"},J=c(()=>t("h2",null,"\u8A02\u55AE\u6210\u7ACB",-1)),K=c(()=>t("p",null,"\u611F\u8B1D\u60A8\u7684\u8CFC\u8CB7\uFF0C\u6536\u5230\u8A02\u55AE\u5F8C\uFF0C\u9810\u8A083~5\u5929\u51FA\u8CA8\uFF0C\u8ACB\u60A8\u8010\u5FC3\u7B49\u5019\u3002",-1)),X=L("\u56DE\u9996\u9801"),Z=c(()=>t("div",{class:"card-body px-4 py-0"},null,-1)),z={class:"col-md-6"},A={class:"card rounded-0 py-3"},G=c(()=>t("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[t("h2",null,"\u9867\u5BA2\u8CC7\u8A0A")],-1)),Q={class:"card-body px-4 py-0"},W={class:"list-group list-group-flush"},Y={class:"list-group-item px-0"},$={class:"d-flex mt-2"},tt={class:"w-100 d-flex flex-column text-start"},st={class:"py-1"},ot={class:"py-1"},et={class:"py-1"},ct={class:"pt-1"},at={class:"col-md-6"},dt={class:"card rounded-0 py-4"},nt=c(()=>t("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[t("h2",null,"\u8A02\u55AE\u8CC7\u8A0A")],-1)),rt={class:"card-body px-4 py-0"},lt={class:"list-group list-group-flush"},it={class:"list-group-item px-0"},_t=["src"],pt={class:"w-100 d-flex flex-column"},ht={class:"d-flex justify-content-between fw-bold"},ut={class:"mb-0"},mt={class:"d-flex justify-content-between mt-auto"},bt={class:"text-muted mb-0"},vt={class:"mb-0"},ft={class:"list-group-item px-0 pb-0"},xt={class:"table text-muted"},gt=c(()=>t("th",{scope:"row",class:"border-0 px-0 font-weight-normal"},"\u5C0F\u8A08",-1)),yt={key:0,class:"text-end border-0 px-0"},wt={key:1,class:"text-end border-0 px-0"},kt={key:0},Ct=c(()=>t("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"\u512A\u60E0\u5238",-1)),Dt={class:"text-end border-0 px-0 pt-0"},jt={class:"d-flex justify-content-between mt-2"},St=c(()=>t("p",{class:"mb-0 h4 fw-bold"},"\u7E3D\u91D1\u984D",-1)),Nt={class:"mb-0 h4 fw-bold"};function Lt(d,a,m,s,b,h){const i=v("Loading"),_=v("router-link");return n(),r("div",B,[f(" Loading "),x(i,{active:s.isLoading,"onUpdate:active":a[0]||(a[0]=e=>s.isLoading=e),"is-full-page":!0},null,8,["active"]),M,t("div",P,[t("div",U,[t("div",q,[t("div",E,[t("div",H,[J,K,x(_,{to:{name:"Home"},class:"btn btn-outline-dark me-2 rounded-0 mb-4"},{default:C(()=>[X]),_:1})]),Z])]),t("div",z,[t("div",A,[G,t("div",Q,[t("ul",W,[t("li",Y,[t("div",$,[t("div",tt,[t("h5",st,"\u9867\u5BA2\u59D3\u540D\uFF1A"+o(s.userData.name),1),t("h5",ot,"\u96FB\u5B50\u90F5\u4EF6"+o(s.userData.email),1),t("h5",et,"\u9867\u5BA2\u96FB\u8A71\uFF1A"+o(s.userData.tel),1),t("h5",ct,"\u5730\u5740\uFF1A"+o(s.userData.address),1)])])])])])])]),t("div",at,[t("div",dt,[nt,t("div",rt,[t("ul",lt,[t("li",it,[(n(!0),r(D,null,j(s.order.products,e=>(n(),r("div",{class:"d-flex mt-2",key:e.title},[t("img",{src:e.product.imageUrl,alt:"product-img",class:"me-2",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,_t),t("div",pt,[t("div",ht,[t("h5",null,o(e.product.title),1),t("p",ut,"x"+o(e.qty),1)]),t("div",mt,[t("p",bt,[t("small",null,"NT$"+o(e.product.price),1)]),t("p",vt,"NT$"+o(e.total),1)])])]))),128))]),t("li",ft,[t("table",xt,[t("tbody",null,[t("tr",null,[gt,s.couponData?(n(),r("td",yt,"NT$"+o(s.order.total/s.couponData.percent*100),1)):(n(),r("td",wt,"NT$"+o(s.order.total),1))]),s.couponData?(n(),r("tr",kt,[Ct,t("td",Dt,o(s.couponData.code),1)])):f("v-if",!0)])]),t("div",jt,[St,t("p",Nt,"NT$"+o(s.order.total),1)])])])])])])])])])}var Vt=O(V,[["render",Lt],["__scopeId","data-v-61952069"]]);export{Vt as default};
